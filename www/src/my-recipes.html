<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="../bower_components/iron-data-table/iron-data-table.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-label/iron-label.html">
<link rel="import" href="../custom_components/recipe-outline.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">

<dom-module id="my-recipes">
    <template>
        <style include="shared-styles">
          :host {
            display: block;

            padding: 16px;
          }
            .breakLine{
        border-bottom: black solid 2px;
        margin-bottom: 10px;
      }
        </style>
        <div class="card">
          <!-- put all code within this card div -->
            <iron-ajax
              auto
              method="post"
              url="/api/recipe"
              body="{{recipe}}"
              handle-as="json"
              content-type="application/x-www-form-urlencoded"
              last-response="{{response}}"></iron-ajax>
            <p>{{response.name}} | {{response.type}}</p>
            <h1>{{req.username}}'s Recipes</h1>
            <div class="breakLine" on-tap="showAddRecipe">
                <iron-label>
                  <iron-icon icon="icons:add-circle-outline"></iron-icon>
                  <label for="">Add Recipe</label>
                </iron-label>
              </div>
            <div class="breakLine" hidden$="{{hide}}">
                <label>Recipe Name</label>
                <input type="text" name="">
                  <br>
                <label>Ingredient</label>
                <input type="text" name="">
                  <br>
                <label>Instructions</label>
                <input type="text" name="">
                  <br>
							<iron-label>
                  <iron-icon icon="icons:add-circle-outline"></iron-icon>
                  <label for="">Add Recipe</label>
                </iron-label>           
					</div>
					<template is="dom-repeat" items="{{recipes}}" as="recipe">
					<div class="card">
						<recipe-outline recipe="{{recipe}}"></recipe-outline>
					</div>
					</template>
        </div>
    </template>

    <script>
			Polymer({
				is: "my-recipes",

				properties: {
					hide: {
            type: Boolean,
            value: true
					},
					recipes: {
						type: Array,
						notify: true,
						value: [
							{ "name" : "recipe1",
							 "ingredients" :
									[ 
										{ "name" : "flour", "amount" : "1 cup" },
										{ "name" : "sugar", "amount" : "2 cups" } 
									],
							 "instructions" : "bla bla bla" },
							{ "name" : "recipe2",
							 "ingredients" :
									[ 
										{ "name" : "flour", "amount" : "2 cup" },
										{ "name" : "sugar", "amount" : "5 cups" } 
									],
							 "instructions" : "hi bla bla" }
        			]
					}
        },

			 showAddRecipe: function(){
					this.hide = !this.hide;  
				}
//
//				storeItems: function(storageName, storageType){
//					return { name: storageName, type: storageType };
//				}
			});
		</script>
</dom-module>
